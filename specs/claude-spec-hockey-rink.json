{
  "project": "Hockey Rink Website MVP",
  "timeline": {
    "start": "2025-08-22",
    "end": "2025-10-20",
    "daily_hours": "1‚Äì2"
  },
  "tech_stack": {
    "backend": ".NET Core 9, ASP.NET Core, Azure SQL (Free Tier)",
    "frontend": "Angular 20, Bootstrap 5.3.3",
    "devops": "GitHub Actions, Azure Static Web Apps"
  },
  "features": [
    "User registration and login",
    "League and session browsing",
    "Session registration and payment simulation",
    "Team drafts and admin dashboard",
    "User profile management",
    "Notifications and error handling"
  ],
  "week_1": {
    "status": "Completed",
    "focus": "Backend setup",
    "deliverables": [
      "Models: Player, League, Session, Payment, etc.",
      "API endpoints: /api/auth/*, /api/users/profile, /api/sessions, /api/leagues",
      "xUnit tests passing",
      "Azure SQL configured and seeded"
    ]
  },
  "week_2": {
    "status": "Completed",
    "focus": "Frontend setup",
    "deliverables": [
      "Angular components: Login, Register, Leagues, Sessions, Profile",
      "Bootstrap styling",
      "Deployed to Azure Static Web Apps"
    ]
  },
  "week_3": {
    "status": "‚úÖ Completed - November 11, 2025",
    "focus": "Admin Features & Enhancements",
    "estimated_hours": "10 hours",
    "deliverables": [
      "‚úÖ Admin dashboard with statistics",
      "‚úÖ Admin sessions management (full CRUD)",
      "‚úÖ Admin users management",
      "‚úÖ Session filtering by league and date",
      "‚úÖ AuthGuard and AdminGuard implementation",
      "‚úÖ TypeScript interfaces (League, Session, etc.)",
      "‚úÖ Angular 20 control flow (@if, @for)",
      "‚úÖ Database migrations (LeagueId with FK constraints)",
      "‚úÖ Accessibility improvements (ARIA labels)",
      "‚úÖ Login redirects to dashboard",
      "‚úÖ Conditional navigation (auth-based)",
      "‚úÖ Admin sessions component with reactive forms and modals",
      "‚úÖ Code formatting and quality improvements"
    ],
    "deferred_to_week_4": [
      "UI polish with hockey-themed branding",
      "Frontend unit tests (comprehensive coverage)",
      "Error handling enhancements (toast notifications)"
    ]
  },
  "week_4": {
    "status": "‚úÖ Completed - November 2025",
    "focus": "Landing Page & UI Polish",
    "estimated_hours": "10 hours",
    "deliverables": [
      {
        "landing_page": {
          "status": "‚úÖ Complete",
          "hero_section": {
            "layout": "‚úÖ Full-width Bootstrap grid with animated ice pattern",
            "headline": "‚úÖ Hit the Ice. Join a League. Track Your Sessions.",
            "subtext": "‚úÖ Manage your hockey schedule, register for sessions, and connect with your team‚Äîall in one place.",
            "cta_buttons": "‚úÖ [Get Started, Browse Leagues]",
            "image": "‚úÖ Hockey-themed SVG ice pattern background with gradient"
          },
          "features_overview": {
            "status": "‚úÖ Complete with animated cards",
            "cards": [
              "‚úÖ Browse leagues and sessions",
              "‚úÖ Register and pay online",
              "‚úÖ Track your hockey stats"
            ]
          }
        }
      },
      {
        "ui_polish": {
          "status": "‚úÖ Complete",
          "colors": {
            "ice_blue": "‚úÖ #4FC3F7 (--ice-blue)",
            "puck_black": "‚úÖ #212529 (--puck-black)",
            "goal_red": "‚úÖ #DC3545 (--goal-red)"
          },
          "effects": "‚úÖ Hover transitions, smooth scrolling, SVG hockey icons, card animations",
          "responsive": "‚úÖ Mobile, tablet, desktop layouts verified",
          "session_cards": "‚úÖ Ice blue gradient backgrounds with border styling"
        }
      },
      {
        "navigation_enhancements": {
          "status": "‚úÖ Complete",
          "active_route_highlighting": "‚úÖ Bootstrap active class on current route",
          "smooth_transitions": "‚úÖ CSS transitions on all interactive elements"
        }
      },
      {
        "optional_addons": [
          "‚úÖ 404 page with hockey-themed design",
          "‚úÖ Final deployment verified on Azure",
          "‚úÖ Toast notifications system integrated"
        ]
      }
    ],
    "deployed_to_azure": "‚úÖ Successfully deployed and verified"
  },
  "week_5": {
    "status": "‚úÖ Completed - November 19, 2025",
    "focus": "Session Registration Enhancements & Admin League Management",
    "estimated_hours": "10 hours",
    "completed_items": [
      {
        "admin_league_management": {
          "status": "‚úÖ Complete - November 19, 2025",
          "description": "Full CRUD interface for managing league settings",
          "components": [
            "‚úÖ AdminLeagues component with reactive forms",
            "‚úÖ Edit league modal with validation",
            "‚úÖ Backend endpoints: GET /api/admin/leagues, PUT /api/admin/leagues/{id}",
            "‚úÖ Navigation link added to admin dashboard"
          ],
          "database_changes": [
            "‚úÖ Added StartDate, EarlyBirdPrice, EarlyBirdEndDate, RegularPrice to League model",
            "‚úÖ Added RegistrationOpenDate, RegistrationCloseDate to League model",
            "‚úÖ Migrations: AddLeagueRegistrationFields, AddLeaguePricingFields applied"
          ]
        }
      },
      {
        "session_enhancements": {
          "status": "‚úÖ Complete - November 19, 2025",
          "max_players_management": {
            "status": "‚úÖ Complete",
            "description": "Admin can set max players (1-250) for each session",
            "default": "20 players",
            "validation": "Min: 1, Max: 250"
          },
          "registration_windows": {
            "status": "‚úÖ Complete",
            "fields": [
              "‚úÖ RegistrationOpenDate (datetime-local input)",
              "‚úÖ RegistrationCloseDate (datetime-local input)"
            ],
            "auto_status_management": "‚úÖ Sessions auto-activate when registration opens, auto-deactivate when closed or session ends"
          },
          "pricing_tiers": {
            "status": "‚úÖ Complete",
            "fields": [
              "‚úÖ EarlyBirdPrice (optional)",
              "‚úÖ EarlyBirdEndDate (datetime-local)",
              "‚úÖ RegularPrice (replaces Fee field)"
            ],
            "display_logic": "‚úÖ Shows early bird price before end date, switches to regular price after"
          },
          "inactive_session_handling": {
            "status": "‚úÖ Complete",
            "description": "‚úÖ Register button hidden for inactive sessions",
            "admin_control": "‚úÖ Admin can manually toggle IsActive status"
          }
        }
      },
      {
        "leagues_page_enhancements": {
          "status": "‚úÖ Complete - November 19, 2025",
          "start_date_display": {
            "status": "‚úÖ Fixed",
            "format": "Month Day, Year (e.g., November 15, 2025)",
            "fallback": "Legacy expectedStartDate field supported"
          },
          "dynamic_pricing_display": {
            "status": "‚úÖ Complete",
            "early_bird_active": "‚úÖ Shows 'Early Bird Registration: $X' when before end date",
            "regular_price": "‚úÖ Shows 'Registration Fee: $Y' after early bird expires",
            "logic": "‚úÖ getCurrentPrice() and getPriceLabel() methods"
          },
          "registration_status": {
            "status": "‚úÖ Complete",
            "open": "‚úÖ Shows 'Register Now' button linking to /sessions",
            "closed": "‚úÖ Shows 'Registration Currently Closed' message",
            "logic": "‚úÖ Checks registrationOpenDate and registrationCloseDate"
          },
          "registration_period_display": {
            "status": "‚úÖ Complete",
            "description": "‚úÖ Only shown when registration dates are set",
            "format": "Opens: [datetime], Closes: [datetime]"
          }
        }
      },
      {
        "ui_polish": {
          "status": "‚úÖ Complete - November 19, 2025",
          "session_cards": {
            "background": "‚úÖ Ice blue gradient (linear-gradient(135deg, #e1f5fe 0%, #f1f8fb 100%))",
            "border": "‚úÖ Light blue border (#81d4fa)",
            "styling": "‚úÖ Matches hockey theme color palette"
          },
          "filter_card": {
            "background": "‚úÖ Matching ice blue gradient",
            "border": "‚úÖ Light blue border"
          },
          "status_badge": "‚úÖ Space added after 'Status:' label"
        }
      },
      {
        "bug_fixes": {
          "status": "‚úÖ All fixed - November 19, 2025",
          "fixes": [
            "‚úÖ Edit modal showing 'Create' instead of 'Edit'",
            "‚úÖ League name not displaying in admin sessions table",
            "‚úÖ Datetime values not saving correctly",
            "‚úÖ Datetime displaying wrong times in edit",
            "‚úÖ Success messages not including session names",
            "‚úÖ Start date missing day number",
            "‚úÖ Registration status showing incorrect state",
            "‚úÖ Register Now button not navigating to sessions page"
          ]
        }
      }
    ],
    "deferred_to_week_6": [
      "Full session registration form with address, phone, DOB fields",
      "Payment form integration (card details)",
      "Session capacity tracking and spots left display",
      "Enhanced SessionRegistration model with additional fields",
      "Admin session management enhancements (delete confirmation, filters)",
      "Comprehensive frontend unit tests",
      "Enhanced error handling with global interceptor"
    ]
  },
  "week_6": {
    "status": "üöÄ In Progress - November 24, 2025",
    "focus": "Session Registration Form, Capacity Management & Admin Analytics",
    "estimated_hours": "15 hours",
    "deliverables": [
      {
        "session_registration_form": {
          "status": "‚è≥ Not Started",
          "description": "Comprehensive registration form for session sign-ups",
          "authentication_required": true,
          "route": "/sessions/:id/register",
          "guard": "AuthGuard (must be logged in)",
          "form_fields": [
            "Name (from logged-in user, pre-filled, editable)",
            "Address (street, city, state, zip with validation)",
            "Phone number (format validation: (XXX) XXX-XXXX)",
            "Email (from logged-in user, pre-filled, read-only)",
            "Date of Birth (date picker, age validation: must be 18+)",
            "Position (dropdown: Forward, Defense, Forward/Defense, Goalie)",
            "Terms and Conditions checkbox (required)"
          ],
          "payment_section": {
            "service": "MockStripeService simulation",
            "fields": [
              "Card number (format: XXXX XXXX XXXX XXXX, validation)",
              "Expiry date (MM/YY, future date validation)",
              "CVV (3-4 digits)",
              "Cardholder name (required)"
            ],
            "validation": "Client-side validation for card format and expiry",
            "amount_display": "Show session regular price or early bird price, calculate total"
          },
          "session_details_display": {
            "session_name": "Display at top of form",
            "date_time": "Show session start/end datetime",
            "location": "Show league name and location if available",
            "spots_remaining": "Display 'X spots left' or 'Session Full' message"
          },
          "confirmation": {
            "success_message": "Registration successful! You're all set for [Session Name] on [Date].",
            "redirect": "Navigate to /profile or /dashboard after 2 seconds"
          },
          "error_handling": {
            "session_full": "Block registration and show 'Session is full' error",
            "registration_closed": "Block registration and show 'Registration has closed' error",
            "payment_failure": "Show error message, allow retry"
          }
        }
      },
      {
        "database_migrations": {
          "status": "‚è≥ Not Started",
          "sessions_table_updates": [
            "Note: MaxPlayers and IsActive already added in Week 5",
            "RegistrationOpenDate, RegistrationCloseDate, EarlyBirdPrice already added"
          ],
          "session_registrations_table": {
            "new_columns": [
              "Name NVARCHAR(100) NOT NULL (registrant full name)",
              "Address NVARCHAR(200) NULL (street address)",
              "City NVARCHAR(100) NULL",
              "State NVARCHAR(50) NULL",
              "ZipCode NVARCHAR(20) NULL",
              "Phone NVARCHAR(20) NULL (formatted phone)",
              "Email NVARCHAR(100) NOT NULL (registrant email)",
              "DateOfBirth DATE NOT NULL (for age verification)",
              "Position NVARCHAR(20) NULL (Forward, Defense, Goalie)",
              "RegistrationDate DATETIME2 NOT NULL DEFAULT GETUTCDATE()",
              "AmountPaid DECIMAL(10,2) NOT NULL (actual amount paid)"
            ],
            "indexes": [
              "IX_SessionRegistrations_RegistrationDate (for analytics)",
              "IX_SessionRegistrations_SessionId (for capacity queries)"
            ],
            "migration_name": "AddSessionRegistrationDetails"
          }
        }
      },
      {
        "session_capacity_management": {
          "status": "‚è≥ Not Started",
          "backend_changes": {
            "get_sessions_endpoint": {
              "add_fields": [
                "SpotsLeft (calculated: MaxPlayers - registration count)",
                "RegistrationCount (total registrations for session)",
                "IsFull (boolean: SpotsLeft <= 0)"
              ],
              "query_optimization": "Include registration count in single query"
            },
            "register_endpoint_validation": {
              "checks": [
                "Session exists and IsActive = true",
                "Registration window is open (between OpenDate and CloseDate)",
                "Session is not full (RegistrationCount < MaxPlayers)",
                "User not already registered for this session"
              ],
              "error_responses": [
                "400: Session is full",
                "400: Registration is closed",
                "409: Already registered"
              ]
            }
          },
          "frontend_updates": {
            "session_list_page": {
              "spots_display": "Show 'X spots left' badge on each session card",
              "full_badge": "Show 'Session Full' danger badge when spots = 0",
              "disable_register": "Disable Register button when full or registration closed",
              "visual_cue": "Reduce opacity or gray out full sessions"
            },
            "session_detail_modal": {
              "capacity_bar": "Optional: Progress bar showing filled spots",
              "registration_status": "Clear messaging about availability"
            }
          }
        }
      },
      {
        "backend_registration_enhancements": {
          "status": "‚è≥ Not Started",
          "session_registration_model": {
            "new_fields": [
              "int SessionId (required)",
              "string Name (required, max 100 chars)",
              "string Address (optional, max 200 chars)",
              "string City (optional, max 100 chars)",
              "string State (optional, max 50 chars)",
              "string ZipCode (optional, max 20 chars)",
              "string Phone (optional, validated format)",
              "string Email (required, validated email)",
              "DateTime DateOfBirth (required, age >= 18)",
              "string Position (optional, Forward/Defense/Forward/Defense/Goalie)",
              "PaymentInfo payment details (card info)"
            ],
            "validation_attributes": [
              "[Required], [StringLength], [EmailAddress], [Phone], [Range]"
            ]
          },
          "sessions_controller_updates": {
            "register_endpoint": "POST /api/sessions/register",
            "process": [
              "1. Validate model and user authentication",
              "2. Check session capacity and active status",
              "3. Check registration window dates",
              "4. Calculate amount (early bird or regular price)",
              "5. Process payment via MockStripeService",
              "6. Create SessionRegistration with all details",
              "7. Create Payment record",
              "8. Return success with session details"
            ]
          }
        }
      },
      {
        "admin_session_management_enhancements": {
          "status": "‚è≥ Not Started",
          "delete_confirmation_modal": {
            "description": "Bootstrap modal to confirm before deactivating session",
            "trigger": "Click Delete/Deactivate button in sessions table",
            "modal_content": "Warning: This will mark the session as inactive. Confirm?",
            "buttons": ["Cancel (secondary)", "Deactivate (danger)"],
            "action": "PUT /api/admin/sessions/{id} with IsActive = false"
          },
          "session_filter_dropdown": {
            "location": "Above sessions table in admin dashboard",
            "options": ["All Sessions", "Active Only", "Inactive Only"],
            "default": "Active Only",
            "visual_distinction": "Inactive sessions shown with opacity: 0.6 and gray badge"
          },
          "registrations_view": {
            "description": "View all registrations for a specific session",
            "trigger": "Click 'View Registrations' link/button in sessions table",
            "display": "Modal or separate page showing registrant details",
            "columns": [
              "Name",
              "Email",
              "Phone",
              "Position",
              "Registration Date",
              "Amount Paid"
            ],
            "endpoint": "GET /api/admin/sessions/{id}/registrations"
          },
          "manual_registration_management": {
            "description": "Admin can manually add or remove users from sessions",
            "add_user_to_session": {
              "trigger": "Button in session registrations view or sessions table",
              "modal": "Add User to Session modal",
              "fields": [
                "User dropdown/search (select existing user by email/name)",
                "Or manual entry: Name, Email, Phone, Address, DOB",
                "Position (dropdown: Forward, Defense, Forward/Defense, Goalie)",
                "Payment Status (Paid/Pending/Comped)",
                "Amount Paid (editable, defaults to session price)"
              ],
              "validation": [
                "Check session capacity before adding",
                "Prevent duplicate registrations",
                "Validate all required fields"
              ],
              "endpoint": "POST /api/admin/sessions/{id}/registrations/manual",
              "use_case": "Offline registrations, phone sign-ups, admin comps"
            },
            "remove_user_from_session": {
              "trigger": "Delete/Remove button next to each registrant in registrations view",
              "confirmation": "Modal: 'Remove [Name] from [Session]? This will mark their registration as cancelled.'",
              "action": "Soft delete: Set status to 'Cancelled' or hard delete registration and payment records",
              "options": [
                "Keep registration record with Cancelled status (recommended for audit trail)",
                "Fully delete registration and payment records (cascade delete)"
              ],
              "refund_note": "Display note: 'Refunds must be processed manually outside the system'",
              "endpoint": "DELETE /api/admin/sessions/{sessionId}/registrations/{registrationId}",
              "use_case": "User cancellations, duplicate registrations, refunds"
            }
          }
        }
      },
      {
        "admin_dashboard_analytics": {
          "status": "‚è≥ Not Started",
          "todays_registrations_card": {
            "title": "Today's Registrations",
            "metric": "Count of registrations where RegistrationDate = UTC today",
            "display": "Large number with trend indicator (up/down vs yesterday)",
            "icon": "Calendar or user icon",
            "api_endpoint": "GET /api/admin/dashboard/stats/registrations-today"
          },
          "registrations_per_session_table": {
            "title": "Session Registration Status",
            "location": "New card on admin dashboard",
            "columns": [
              "Session Name",
              "Date & Time",
              "League",
              "Registrations",
              "Max Players",
              "Spots Left",
              "Status"
            ],
            "sorting": "Sort by date descending (upcoming sessions first)",
            "visual_indicators": [
              "Green badge for sessions with >5 spots",
              "Yellow badge for 1-5 spots left",
              "Red badge for full sessions"
            ],
            "api_endpoint": "GET /api/admin/dashboard/sessions/registration-status"
          },
          "revenue_overview_card": {
            "title": "Revenue Summary",
            "metrics": [
              "Total Revenue All-Time (sum of all AmountPaid)",
              "Today's Revenue (sum where RegistrationDate = today)",
              "This Month's Revenue (sum where RegistrationDate in current month)",
              "Average Registration Fee"
            ],
            "display": "Card with 2x2 grid of metric boxes",
            "optional_chart": "Line chart showing daily revenue for last 30 days",
            "api_endpoint": "GET /api/admin/dashboard/stats/revenue"
          },
          "implementation_notes": {
            "new_controller": "AdminDashboardController.cs",
            "authorization": "[Authorize(Roles = \"Admin\")]",
            "timezone_handling": "All date calculations use UTC",
            "caching": "Consider caching stats for 5 minutes to reduce DB load"
          }
        }
      },
      {
        "testing_and_quality": {
          "status": "‚è≥ Not Started",
          "unit_tests": {
            "backend": [
              "Session capacity validation tests",
              "Registration window date logic tests",
              "Early bird price calculation tests",
              "Admin analytics queries accuracy",
              "Payment processing with new fields"
            ],
            "frontend": [
              "Registration form validation (all fields)",
              "Spots left calculation display",
              "Session full state handling",
              "Price display logic (early bird vs regular)",
              "Form submission and error handling"
            ]
          },
          "integration_tests": [
            "Complete registration flow end-to-end",
            "Capacity enforcement (prevent over-registration)",
            "Registration window enforcement",
            "Admin dashboard data accuracy",
            "Session status auto-updates"
          ],
          "manual_testing_checklist": [
            "Register for session with all form fields",
            "Try registering when session is full (should fail)",
            "Try registering outside registration window (should fail)",
            "Verify early bird pricing applied correctly",
            "Admin: View session registrations list",
            "Admin: Manually add user to session",
            "Admin: Remove user from session (verify confirmation)",
            "Admin: Try adding user when session is full (should fail)",
            "Admin: Check analytics dashboard metrics",
            "Admin: Filter sessions by active/inactive",
            "Admin: Deactivate session with confirmation modal"
          ]
        }
      },
      {
        "optional_enhancements": {
          "status": "Deferred",
          "items": [
            "Email notifications when registration opens for favorite leagues",
            "Admin report export (CSV of all registrations)",
            "Dark mode toggle for UI",
            "Performance optimization for large session lists",
            "Hockey-themed success animations on registration",
            "Comprehensive frontend unit test coverage (AuthService, DataService, all components)",
            "Global error interceptor with toast notifications"
          ]
        }
      }
    ],
    "priority_order": [
      "1. Database migration for SessionRegistrations table with new fields",
      "2. Backend: Update SessionRegistration model and validation",
      "3. Backend: Session capacity checking in register endpoint",
      "4. Backend: Add SpotsLeft to GetSessions response",
      "5. Frontend: Build comprehensive registration form component",
      "6. Frontend: Display spots left on session cards",
      "7. Frontend: Disable registration for full sessions",
      "8. Admin: Delete confirmation modal for sessions",
      "9. Admin: Session filter (active/inactive)",
      "10. Admin: View registrations for a session",
      "11. Admin: Manually add user to session (modal form)",
      "12. Admin: Remove user from session (with confirmation)",
      "13. Admin: Dashboard analytics (registrations today, revenue)",
      "14. Testing: Unit and integration tests for new features"
    ]
  },
  "database_schema_updates": {
    "leagues_table": {
      "new_columns": [
        "ExpectedStartDate DATETIME2 NULL (when league season is expected to start)",
        "PreRegisterPrice DECIMAL(10,2) NULL (early registration price for the league)"
      ],
      "migration_order": "Week 4 or 5 - needed for public leagues page display"
    },
    "sessions_table": {
      "new_columns": [
        "MaxPlayers INT NOT NULL DEFAULT 20",
        "IsActive BIT NOT NULL DEFAULT 1",
        "RegistrationOpenDate DATETIME2 NULL",
        "RegistrationCloseDate DATETIME2 NULL",
        "EarlyBirdEndDate DATETIME2 NULL",
        "EarlyBirdDiscountPercent DECIMAL(5,2) NULL"
      ],
      "migration_order": "Week 5 (MaxPlayers, IsActive), Week 6 (Registration dates)"
    },
    "registrations_table": {
      "new_columns": [
        "Name NVARCHAR(100) NOT NULL",
        "Address NVARCHAR(200)",
        "Phone NVARCHAR(20)",
        "Email NVARCHAR(100) NOT NULL",
        "DateOfBirth DATE NOT NULL",
        "RegistrationDate DATETIME2 NOT NULL DEFAULT GETUTCDATE()",
        "AmountPaid DECIMAL(10,2) NOT NULL"
      ],
      "indexes": [
        "IX_Registrations_RegistrationDate (for today's registrations query)",
        "IX_Registrations_SessionId (for session analytics)"
      ],
      "migration_order": "Week 5"
    }
  },
  "week_7": {
    "status": "ÔøΩ In Progress - December 30, 2025",
    "focus": "Payment Integration, User Profile Management & Session History",
    "estimated_hours": "12-15 hours",
    "deliverables": [
      {
        "mock_payment_form": {
          "status": "‚úÖ Completed",
          "description": "Mock credit card form for session registration (not connected to Stripe)",
          "location": "Session registration page (/sessions/:id/register)",
          "form_fields": {
            "card_number": {
              "label": "Card Number",
              "format": "XXXX XXXX XXXX XXXX",
              "validation": [
                "16 digits required",
                "Auto-format with spaces every 4 digits",
                "Test card: 4242 4242 4242 4242 (always succeeds)",
                "Test card: 4000 0000 0000 0002 (always fails)"
              ],
              "max_length": 19
            },
            "expiry_date": {
              "label": "Expiry Date",
              "format": "MM/YY",
              "validation": [
                "Must be future date",
                "Month: 01-12",
                "Year: Current year or later"
              ],
              "auto_format": "Add / after 2 digits"
            },
            "cvv": {
              "label": "CVV",
              "format": "XXX or XXXX",
              "validation": ["3-4 digits", "Numeric only"],
              "type": "password"
            },
            "cardholder_name": {
              "label": "Cardholder Name",
              "validation": "Required, min 3 characters",
              "placeholder": "Name as it appears on card"
            }
          },
          "mock_processing": {
            "service": "MockPaymentService (backend)",
            "behavior": [
              "Card 4242 4242 4242 4242 ‚Üí Success with transaction ID",
              "Card 4000 0000 0000 0002 ‚Üí Decline with error message",
              "All other valid formats ‚Üí Success",
              "Generate mock transaction ID: 'MOCK_TXN_' + Guid"
            ],
            "processing_time": "Add 1-2 second delay to simulate real processing",
            "response_fields": [
              "success (boolean)",
              "transactionId (string)",
              "errorMessage (string, if failed)",
              "processedAt (DateTime)"
            ]
          },
          "ui_components": {
            "payment_section_card": "Bootstrap card with lock icon and 'Secure Payment' header",
            "submit_button_states": [
              "Default: 'Complete Registration'",
              "Processing: 'Processing Payment...' with spinner",
              "Success: Briefly show checkmark before redirect"
            ],
            "error_display": "Show payment errors in red alert above form",
            "card_type_icon": "Optional: Show Visa/MC/Amex icon based on first digit"
          },
          "success_flow": {
            "on_success": [
              "1. Create SessionRegistration with all form data",
              "2. Create Payment record with mock transaction ID",
              "3. Show success toast: 'Registration successful!'",
              "4. Redirect to /dashboard or /profile after 2 seconds"
            ]
          },
          "validation_summary": [
            "All personal info fields validated (name, email, DOB, address, phone)",
            "Payment fields validated before submission",
            "Check session capacity before processing payment",
            "Display clear error messages for each validation failure"
          ]
        }
      },
      {
        "manual_registration_password_setup": {
          "status": "‚úÖ Completed",
          "description": "Allow manually registered users to set password and fully activate account",
          "problem": "Users added manually by admin don't have passwords and can't log in",
          "solution_approach": "Email-based password setup flow",
          "database_changes": {
            "application_user_updates": [
              "Add 'IsManuallyRegistered' boolean field (default false)",
              "Add 'PasswordSetupToken' string field (nullable, for one-time setup)",
              "Add 'PasswordSetupTokenExpiry' DateTime field (nullable)"
            ],
            "migration_name": "AddManualRegistrationFields"
          },
          "backend_implementation": {
            "admin_manual_registration_endpoint": {
              "endpoint": "POST /api/admin/sessions/{sessionId}/registrations/manual",
              "process": [
                "1. Admin enters user email, name, phone, address, DOB, position",
                "2. Check if user exists by email",
                "3a. If user exists: Add them to session with existing profile",
                "3b. If user doesn't exist: Create ApplicationUser with IsManuallyRegistered = true",
                "4. Generate secure PasswordSetupToken (Guid)",
                "5. Set token expiry to 7 days from now",
                "6. Create SessionRegistration record",
                "7. Send email with password setup link (optional for MVP, can log to console)",
                "8. Return success message"
              ],
              "request_model": {
                "fields": [
                  "string Email (required)",
                  "string Name (required)",
                  "string Phone (optional)",
                  "string Address (optional)",
                  "string City (optional)",
                  "string State (optional)",
                  "string ZipCode (optional)",
                  "DateTime DateOfBirth (required, age >= 18)",
                  "string Position (optional)",
                  "decimal AmountPaid (required)",
                  "string PaymentStatus (Paid/Pending/Comped)"
                ]
              }
            },
            "password_setup_endpoints": {
              "validate_token": "GET /api/auth/setup-password/{token}",
              "validate_response": {
                "valid": "Return user email and token validity",
                "invalid": "Return 400 with error message"
              },
              "set_password": "POST /api/auth/setup-password",
              "set_password_request": {
                "token": "string (required)",
                "password": "string (required, min 6 chars)",
                "confirmPassword": "string (must match password)"
              },
              "process": [
                "1. Validate token exists and not expired",
                "2. Find user by token",
                "3. Set user password using UserManager",
                "4. Mark IsManuallyRegistered = false",
                "5. Clear PasswordSetupToken and expiry",
                "6. Set EmailConfirmed = true",
                "7. Return success message"
              ]
            }
          },
          "frontend_implementation": {
            "setup_password_page": {
              "route": "/setup-password/:token",
              "component": "SetupPasswordComponent",
              "no_auth_required": true,
              "form_fields": [
                "Email (display only, fetched from token)",
                "Password (input, password type, min 6 chars)",
                "Confirm Password (input, must match)"
              ],
              "validation": [
                "Password minimum 6 characters",
                "Passwords must match",
                "Show strength indicator (optional)"
              ],
              "on_success": [
                "Show success message: 'Password set successfully! You can now log in.'",
                "Redirect to /login after 2 seconds"
              ],
              "on_token_invalid": "Show error: 'This link is invalid or expired. Please contact admin.'"
            },
            "admin_manual_registration_modal": {
              "improvements": [
                "Add checkbox: 'Send password setup email' (checked by default)",
                "Show message after success: 'User registered. Password setup link sent to [email]' or 'User registered. Password setup link: [copy link]'",
                "Display password setup link in modal for admin to manually share if email fails"
              ]
            }
          },
          "email_notification": {
            "priority": "Optional for MVP (can log link to console)",
            "subject": "Complete Your Hockey Rink Registration",
            "body_template": "Hi [Name], You've been registered for [Session Name] by an administrator. To access your account, please set your password: [Link]. This link expires in 7 days.",
            "implementation_note": "Can use IEmailSender or log to console/file for MVP"
          }
        }
      },
      {
        "user_profile_enhancements": {
          "status": "‚úÖ Completed",
          "description": "Allow users to edit personal information from registration",
          "current_profile_page": "/profile",
          "database_updates": {
            "application_user_model": {
              "add_fields": [
                "string? Address (street address)",
                "string? City",
                "string? State",
                "string? ZipCode",
                "string? Phone (formatted: (XXX) XXX-XXXX)",
                "DateTime? DateOfBirth",
                "string? Position (Forward/Defense/Forward/Defense/Goalie)",
                "string? PreferredLeagueName (display only, from League relationship)"
              ],
              "migration_name": "AddUserProfileFields"
            },
            "sync_with_registrations": "When user registers for first session, copy their registration info to ApplicationUser profile"
          },
          "backend_implementation": {
            "get_profile_endpoint": {
              "endpoint": "GET /api/users/profile",
              "add_fields_to_response": [
                "Address, City, State, ZipCode",
                "Phone, DateOfBirth, Position",
                "LeagueName (from League navigation property)",
                "CurrentSessionsCount",
                "TotalSessionsCount"
              ]
            },
            "update_profile_endpoint": {
              "endpoint": "PUT /api/users/profile",
              "request_model": {
                "firstName": "string (optional)",
                "lastName": "string (optional)",
                "address": "string (optional)",
                "city": "string (optional)",
                "state": "string (optional)",
                "zipCode": "string (optional)",
                "phone": "string (optional, validated format)",
                "dateOfBirth": "DateTime (optional, age >= 18)",
                "position": "string (optional)",
                "leagueId": "int? (optional, user's preferred league)"
              },
              "validation": [
                "Phone format: (XXX) XXX-XXXX",
                "DateOfBirth: Must be 18+ years old",
                "Position: Forward/Defense/Forward/Defense/Goalie only",
                "ZipCode: Valid US format (optional)"
              ],
              "process": [
                "1. Get authenticated user",
                "2. Update user properties",
                "3. Set UpdatedAt = DateTime.UtcNow",
                "4. Save to database",
                "5. Return updated profile"
              ]
            }
          },
          "frontend_implementation": {
            "profile_page_sections": {
              "personal_information_card": {
                "title": "Personal Information",
                "fields_displayed": [
                  "Name (FirstName + LastName) - editable",
                  "Email - read-only (from Identity)",
                  "Phone - editable",
                  "Date of Birth - editable",
                  "Address (full: street, city, state, zip) - editable",
                  "Position - dropdown editable",
                  "Preferred League - dropdown editable (from leagues list)"
                ],
                "edit_mode": "Toggle between view/edit with 'Edit Profile' button",
                "buttons": [
                  "'Edit Profile' ‚Üí Switches to edit mode",
                  "'Save Changes' ‚Üí Submits form, switches back to view mode",
                  "'Cancel' ‚Üí Discards changes, returns to view mode"
                ],
                "validation": "Show inline errors for invalid fields"
              },
              "account_information_card": {
                "title": "Account Information",
                "fields_displayed": [
                  "Email Confirmed: Yes/No badge",
                  "Account Created: [Date]",
                  "Last Updated: [Date]",
                  "Is Sub Available: Toggle switch (allow users to mark if available as sub)"
                ],
                "change_password_button": "Link to /change-password page or modal"
              },
              "session_information_card": {
                "title": "My Sessions",
                "description": "Current and upcoming sessions you're registered for",
                "move_to_dashboard": "This will be expanded on dashboard (see below)"
              }
            }
          }
        }
      },
      {
        "user_dashboard_session_history": {
          "status": "‚úÖ Completed",
          "description": "Show current/upcoming and past sessions on user dashboard",
          "route": "/dashboard",
          "component": "DashboardComponent (user's landing page after login)",
          "database_queries": {
            "current_upcoming_sessions": {
              "description": "Sessions user is registered for with StartDate >= Today",
              "query": "JOIN SessionRegistrations ON UserId, JOIN Sessions WHERE StartDate >= UTC Today, ORDER BY StartDate ASC",
              "display_limit": "Show all upcoming sessions"
            },
            "past_sessions": {
              "description": "Sessions user attended with StartDate < Today",
              "query": "JOIN SessionRegistrations ON UserId, JOIN Sessions WHERE StartDate < UTC Today, ORDER BY StartDate DESC",
              "display_limit": "Show last 10 sessions, with 'View All' link"
            }
          },
          "backend_implementation": {
            "new_endpoint": "GET /api/users/my-sessions",
            "query_parameters": [
              "status (optional): 'upcoming' | 'past' | 'all' (default: all)",
              "limit (optional): number of results (default: 10 for past, unlimited for upcoming)"
            ],
            "response_model": {
              "upcoming": [
                {
                  "sessionId": "int",
                  "sessionName": "string",
                  "leagueName": "string",
                  "startDate": "DateTime",
                  "endDate": "DateTime",
                  "location": "string (optional)",
                  "registrationDate": "DateTime (when user registered)",
                  "amountPaid": "decimal",
                  "position": "string (user's position for this session)"
                }
              ],
              "past": "[same structure as upcoming]",
              "totalUpcoming": "int",
              "totalPast": "int"
            }
          },
          "frontend_implementation": {
            "dashboard_layout": {
              "welcome_section": "Welcome back, [FirstName]!",
              "upcoming_sessions_card": {
                "title": "Upcoming Sessions",
                "empty_state": "You're not registered for any upcoming sessions. Browse sessions to get started!",
                "display": [
                  "List or cards showing each session",
                  "Session name, league, date/time",
                  "Location (if available)",
                  "Days until session (e.g., 'In 5 days')",
                  "'View Details' button ‚Üí Opens session detail modal or navigates to sessions page"
                ],
                "sorting": "Chronological (soonest first)",
                "highlight_next_session": "First session has distinct styling (e.g., primary border)"
              },
              "past_sessions_card": {
                "title": "Session History",
                "empty_state": "No past sessions yet.",
                "display": [
                  "Table or list of past sessions",
                  "Columns: Session Name, League, Date, Position, Amount Paid",
                  "Show last 10 sessions by default"
                ],
                "view_all_link": "Link to /my-sessions page with full history (optional)"
              },
              "quick_stats_section": {
                "optional_metrics": [
                  "Total Sessions Attended: [count]",
                  "Current League: [league name from profile]",
                  "Member Since: [account creation date]"
                ]
              }
            }
          }
        }
      },
      {
        "additional_features": {
          "status": "ÔøΩ In Progress",
          "items": [
            {
              "league_association_display": {
                "description": "Show user's preferred league throughout the app",
                "locations": [
                  "Profile page: Display league name and allow editing",
                  "Dashboard: Show 'Your League: [Name]' badge",
                  "Sessions page: Highlight or filter sessions from user's league by default"
                ],
                "implementation": "Use LeagueId field already in ApplicationUser model"
              }
            },
            {
              "session_cancellation": {
                "status": "‚úÖ Completed",
                "description": "Allow users to cancel their registration",
                "user_flow": [
                  "User clicks 'Cancel Registration' on dashboard or session detail",
                  "Confirmation modal: 'Are you sure? Refunds must be requested separately.'",
                  "On confirm: Soft delete registration (set Status = 'Cancelled') or hard delete",
                  "Show success message",
                  "Optionally: Set cancellation deadline (e.g., 24 hours before session)"
                ],
                "backend_endpoint": "DELETE /api/sessions/{sessionId}/my-registration",
                "validation": [
                  "Only allow cancellation if StartDate > 24 hours away",
                  "Return 400 if too close to session start"
                ]
              }
            },
            {
              "change_password_page": {
                "status": "‚úÖ Completed",
                "route": "/change-password",
                "auth_required": true,
                "form_fields": [
                  "Current Password (required, validated against user's password)",
                  "New Password (required, min 6 chars)",
                  "Confirm New Password (must match)"
                ],
                "backend_endpoint": "POST /api/users/change-password",
                "process": [
                  "Validate current password using UserManager.CheckPasswordAsync",
                  "Update password using UserManager.ChangePasswordAsync",
                  "Return success or validation errors"
                ]
              }
            },
            {
              "responsive_improvements": {
                "status": "üìã Deferred to Week 9",
                "description": "Ensure all new forms work well on mobile",
                "focus_areas": [
                  "Payment form: Stack fields vertically on mobile",
                  "Profile edit form: Full-width inputs on mobile",
                  "Dashboard session cards: Stack on mobile, grid on desktop"
                ]
              }
            }
          ]
        }
      },
      {
        "testing_and_validation": {
          "status": "üìã Deferred to Week 9",
          "backend_tests": [
            "Mock payment service: Test success and failure scenarios",
            "Manual registration: Test user creation and password setup token generation",
            "Password setup: Test token validation and expiry",
            "Profile update: Test all field validations",
            "My sessions endpoint: Test upcoming/past filtering"
          ],
          "frontend_tests": [
            "Payment form validation: Test card number, expiry, CVV formats",
            "Profile edit form: Test validation and save/cancel",
            "Dashboard: Test session display for users with/without sessions",
            "Setup password page: Test password matching validation"
          ],
          "integration_tests": [
            "Complete registration flow with mock payment",
            "Manual registration ‚Üí Password setup ‚Üí Login flow",
            "Profile update ‚Üí Verify changes persist",
            "Session registration ‚Üí Verify appears in dashboard"
          ],
          "manual_testing_checklist": [
            "Register for session with mock credit card (success and failure)",
            "Admin manually registers user ‚Üí User receives setup link ‚Üí Sets password ‚Üí Logs in",
            "User edits profile ‚Üí Saves changes ‚Üí Verifies data persisted",
            "User views upcoming sessions on dashboard",
            "User views past sessions on dashboard",
            "User changes password successfully",
            "User cancels session registration (if implemented)",
            "Mobile responsive testing for all new forms"
          ]
        }
      }
    ],
    "priority_order": [
      "1. Database migrations: Add profile fields to ApplicationUser, manual registration fields",
      "2. Backend: MockPaymentService implementation",
      "3. Frontend: Mock payment form on registration page",
      "4. Backend: Complete session registration endpoint with payment processing",
      "5. Frontend: Registration form integration with payment",
      "6. Backend: Manual registration endpoint with user creation",
      "7. Backend: Password setup token generation and validation endpoints",
      "8. Frontend: Setup password page",
      "9. Backend: Update profile endpoint with new fields",
      "10. Frontend: Enhanced profile page with edit mode",
      "11. Backend: My sessions endpoint (upcoming/past)",
      "12. Frontend: Dashboard with session history",
      "13. Additional features: Change password, session cancellation",
      "14. Testing: Unit and integration tests",
      "15. Mobile responsive polish"
    ],
    "estimated_completion": "End of Week 7 (mid-December 2025)"
  },
  "week_8": {
    "status": "üìã Planned - December 2025",
    "focus": "Team Draft System & Player Management",
    "estimated_hours": "15-18 hours",
    "deliverables": [
      {
        "player_rating_system": {
          "status": "‚è≥ Not Started",
          "description": "Admin-only player rating field for draft sorting",
          "database_changes": {
            "application_user_updates": {
              "add_field": "Rating DECIMAL(3,1) NULL (range: 0.0 to 10.0, admin-only)",
              "migration_name": "AddPlayerRatingField",
              "default_value": "NULL (unrated players)",
              "validation": "Min: 0.0, Max: 10.0, one decimal place"
            }
          },
          "backend_implementation": {
            "admin_endpoints": {
              "update_player_rating": {
                "endpoint": "PUT /api/admin/users/{userId}/rating",
                "request_body": {
                  "rating": "decimal (0.0 to 10.0, nullable)"
                },
                "authorization": "[Authorize(Roles = \"Admin\")]",
                "validation": [
                  "Rating must be between 0.0 and 10.0",
                  "Only one decimal place allowed",
                  "Null is allowed (clears rating)"
                ],
                "response": "Updated user profile with new rating"
              },
              "get_users_with_ratings": {
                "endpoint": "GET /api/admin/users?includeRating=true",
                "description": "Returns user list with rating field visible to admin",
                "filters": [
                  "rated (users with rating > 0)",
                  "unrated (users with null rating)",
                  "all (default)"
                ]
              }
            }
          },
          "frontend_implementation": {
            "admin_user_management": {
              "add_rating_column": "Display Rating column in admin users table",
              "inline_edit": "Click to edit rating, save/cancel buttons",
              "visual_indicators": [
                "Show rating as stars (e.g., 7.5 = ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ)",
                "Or numeric display: '7.5 / 10.0'",
                "Unrated players: '‚Äî' or 'Not Rated'"
              ],
              "validation_ui": "Show error if rating outside 0.0-10.0 range"
            },
            "player_profile_view": {
              "admin_only_section": "Rating field only visible when viewing as admin",
              "user_visibility": "Regular users cannot see their own or others' ratings"
            }
          }
        }
      },
      {
        "team_database_model": {
          "status": "‚è≥ Not Started",
          "description": "Teams table for organizing players into draft teams",
          "database_schema": {
            "teams_table": {
              "table_name": "Teams",
              "columns": [
                "Id INT PRIMARY KEY IDENTITY(1,1)",
                "SessionId INT NOT NULL FOREIGN KEY REFERENCES Sessions(Id) ON DELETE CASCADE",
                "TeamName NVARCHAR(100) NOT NULL",
                "TeamColor NVARCHAR(20) NULL (for UI display, e.g., 'Blue', 'Red', 'Green')",
                "CaptainUserId NVARCHAR(450) NULL FOREIGN KEY REFERENCES AspNetUsers(Id) (Team Captain)",
                "CreatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE()",
                "UpdatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE()"
              ],
              "indexes": ["IX_Teams_SessionId (for querying teams by session)"],
              "constraints": [
                "UNIQUE constraint on (SessionId, TeamName) - no duplicate team names per session"
              ],
              "migration_name": "CreateTeamsTable"
            },
            "team_players_junction_table": {
              "table_name": "TeamPlayers",
              "description": "Many-to-many relationship: teams can have multiple players, players can be on one team per session",
              "columns": [
                "Id INT PRIMARY KEY IDENTITY(1,1)",
                "TeamId INT NOT NULL FOREIGN KEY REFERENCES Teams(Id) ON DELETE CASCADE",
                "UserId NVARCHAR(450) NOT NULL FOREIGN KEY REFERENCES AspNetUsers(Id)",
                "SessionRegistrationId INT NOT NULL FOREIGN KEY REFERENCES SessionRegistrations(Id)",
                "DraftOrder INT NULL (order in which player was drafted, 1-based)",
                "AssignedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE()"
              ],
              "indexes": [
                "IX_TeamPlayers_TeamId (for querying players by team)",
                "IX_TeamPlayers_UserId (for finding which team a user is on)",
                "IX_TeamPlayers_SessionRegistrationId (unique: player can only be on one team per session)"
              ],
              "constraints": [
                "UNIQUE constraint on SessionRegistrationId - each registration can only be assigned to one team"
              ],
              "migration_name": "CreateTeamPlayersTable"
            }
          },
          "backend_models": {
            "team_model": {
              "properties": [
                "int Id",
                "int SessionId",
                "string TeamName (required, max 100 chars)",
                "string? TeamColor (optional, max 20 chars)",
                "string? CaptainUserId (nullable, FK to AspNetUsers)",
                "DateTime CreatedAt",
                "DateTime UpdatedAt",
                "Session Session (navigation)",
                "ApplicationUser? Captain (navigation property)",
                "ICollection<TeamPlayer> TeamPlayers (navigation)"
              ]
            },
            "team_player_model": {
              "properties": [
                "int Id",
                "int TeamId",
                "string UserId",
                "int SessionRegistrationId",
                "int? DraftOrder",
                "DateTime AssignedAt",
                "Team Team (navigation)",
                "ApplicationUser User (navigation)",
                "SessionRegistration SessionRegistration (navigation)"
              ]
            }
          }
        }
      },
      {
        "team_management_endpoints": {
          "status": "‚è≥ Not Started",
          "description": "Backend API for managing teams and team assignments",
          "endpoints": {
            "create_team": {
              "method": "POST",
              "route": "/api/admin/sessions/{sessionId}/teams",
              "authorization": "[Authorize(Roles = \"Admin\")]",
              "request_body": {
                "teamName": "string (required, max 100 chars)",
                "teamColor": "string (optional, e.g., 'Blue', 'Red', 'Green')",
                "captainUserId": "string (optional, must be a player on the team)"
              },
              "validation": [
                "Team name must be unique within session",
                "Session must exist and be valid"
              ],
              "response": "Created team object with Id"
            },
            "get_teams_for_session": {
              "method": "GET",
              "route": "/api/admin/sessions/{sessionId}/teams",
              "authorization": "[Authorize(Roles = \"Admin\")]",
              "response": {
                "teams": [
                  {
                    "id": "int",
                    "teamName": "string",
                    "teamColor": "string",
                    "captainUserId": "string (nullable)",
                    "captainName": "string (nullable, display name of captain)",
                    "playerCount": "int (count of assigned players)",
                    "players": [
                      {
                        "userId": "string",
                        "name": "string",
                        "position": "string",
                        "rating": "decimal (admin only)",
                        "draftOrder": "int"
                      }
                    ]
                  }
                ]
              }
            },
            "update_team": {
              "method": "PUT",
              "route": "/api/admin/teams/{teamId}",
              "authorization": "[Authorize(Roles = \"Admin\")]",
              "request_body": {
                "teamName": "string (optional)",
                "teamColor": "string (optional)",
                "captainUserId": "string (optional, null to clear captain)"
              },
              "validation": "Team name must remain unique within session"
            },
            "delete_team": {
              "method": "DELETE",
              "route": "/api/admin/teams/{teamId}",
              "authorization": "[Authorize(Roles = \"Admin\")]",
              "behavior": [
                "Soft delete or hard delete (cascade removes TeamPlayers)",
                "Players become unassigned (available for draft again)"
              ]
            },
            "assign_player_to_team": {
              "method": "POST",
              "route": "/api/admin/teams/{teamId}/players",
              "authorization": "[Authorize(Roles = \"Admin\")]",
              "request_body": {
                "sessionRegistrationId": "int (required)",
                "draftOrder": "int (optional, auto-increments if not provided)"
              },
              "validation": [
                "Player must be registered for the session",
                "Player cannot be assigned to multiple teams in same session",
                "Registration must belong to same session as team"
              ],
              "response": "TeamPlayer object created"
            },
            "remove_player_from_team": {
              "method": "DELETE",
              "route": "/api/admin/teams/{teamId}/players/{userId}",
              "authorization": "[Authorize(Roles = \"Admin\")]",
              "behavior": "Removes player from team, makes them available for draft again",
              "captain_handling": "If removed player is team captain, CaptainUserId is set to NULL"
            },
            "set_team_captain": {
              "method": "PUT",
              "route": "/api/admin/teams/{teamId}/captain",
              "authorization": "[Authorize(Roles = \"Admin\")]",
              "request_body": {
                "captainUserId": "string (nullable, set to null to clear captain)"
              },
              "validation": [
                "Captain must be a player currently assigned to the team",
                "If null, clears the captain assignment"
              ],
              "response": "Updated team object with new captain info"
            }
          }
        }
      },
      {
        "team_captain_feature": {
          "status": "‚è≥ Not Started",
          "description": "Team Captain assignment and display functionality",
          "overview": "Designate one player per team as captain - visible to all users, editable by admin only",
          "key_features": {
            "no_special_permissions": "Captain role is cosmetic/honorary - no admin functionality granted",
            "single_captain_per_team": "Only one captain per team (nullable - teams can have no captain)",
            "visible_to_all": "Captain name displayed in team overviews for all users",
            "admin_editable": "Only admins can assign/change/remove captains"
          },
          "ui_implementation": {
            "draft_page_captain_selector": {
              "location": "Team card header",
              "display": "Dropdown selector or inline edit",
              "options": "List of all players currently on the team + 'No Captain' option",
              "on_change": "Calls PUT /api/admin/teams/{teamId}/captain endpoint",
              "visual_indicator": "Show ‚≠ê or (C) badge next to captain's name in player list"
            },
            "team_overview_display": {
              "location": "Any view showing team list (draft page, session details, user dashboard)",
              "display_format": "Captain: [Name] or 'No Captain Assigned'",
              "styling": "Badge or special text formatting to distinguish captain"
            },
            "player_card_in_team": {
              "captain_badge": "Show '‚≠ê Captain' or '(C)' badge on player card if they are captain",
              "positioning": "Badge appears next to player name or position"
            }
          },
          "user_view": {
            "my_team_display": {
              "show_captain": "Display captain name prominently: 'Captain: [Name]'",
              "is_captain_indicator": "If current user is captain, show 'You are the team captain!' message or badge",
              "no_captain_state": "Display 'Captain: Not yet assigned' or similar message"
            },
            "team_roster_display": {
              "captain_in_list": "Show captain with special badge/indicator in teammate list",
              "sort_order": "Optional: Show captain first in teammate list"
            }
          },
          "validation_rules": [
            "Captain must be a valid user assigned to the team",
            "If captain is removed from team, captain assignment is automatically cleared (set to NULL)",
            "Cannot assign captain from different team or unassigned players",
            "Only one captain per team at any time"
          ]
        }
      },
      {
        "draft_page_ui": {
          "status": "‚è≥ Not Started",
          "description": "Admin-only drag-and-drop draft interface",
          "route": "/admin/sessions/{sessionId}/draft",
          "authorization": "AdminGuard (admin only)",
          "prerequisites": [
            "Registration must be closed for the session",
            "Session must have at least one registered player"
          ],
          "layout": {
            "available_players_section": {
              "title": "Available Players",
              "description": "List of registered players not yet assigned to a team",
              "display": "Vertical list of draggable player cards",
              "player_card_info": [
                "Player name (from registration)",
                "Preferred position (Forward/Defense/Goalie)",
                "Drag handle icon"
              ],
              "sorting": "Sorted by rating (highest to lowest), rating NOT displayed",
              "unrated_players": "Shown at bottom of list",
              "empty_state": "All players have been drafted!",
              "filters": {
                "position_filter": "Filter by Forward/Defense/Goalie/All",
                "search": "Search by name"
              }
            },
            "teams_section": {
              "title": "Teams",
              "layout": "Grid of team cards (2-4 columns depending on screen size)",
              "team_card": {
                "header": [
                  "Team name (editable inline)",
                  "Team color badge",
                  "Captain badge/selector (dropdown of team players, or 'No Captain')",
                  "Player count (e.g., '5 players')",
                  "Delete team button (with confirmation)"
                ],
                "body": "Drop zone for player cards",
                "player_list": [
                  "Draggable player cards within team",
                  "Shows: Name, Position",
                  "Captain badge: Show '‚≠ê Captain' or '(C)' badge if player is team captain",
                  "Drag to reorder within team or move to another team",
                  "Remove button (X) to send back to available players",
                  "Note: If captain is removed, captain assignment is cleared"
                ],
                "empty_state": "Drag players here to build your team"
              },
              "add_team_button": {
                "label": "+ Add Team",
                "action": "Opens modal to create new team",
                "modal_fields": [
                  "Team Name (required)",
                  "Team Color (dropdown: Blue, Red, Green, Yellow, Purple, Orange, etc.)",
                  "Team Captain (dropdown: Select after adding players, optional)"
                ]
              }
            }
          },
          "drag_and_drop_behavior": {
            "library": "Angular CDK Drag & Drop or ngx-drag-drop",
            "drag_sources": ["Available Players list", "Any team card"],
            "drop_targets": [
              "Any team card",
              "Available Players list (to unassign)"
            ],
            "on_drop": [
              "1. Validate drop is allowed (player not already on team in this session)",
              "2. Call API: POST /api/admin/teams/{teamId}/players",
              "3. Update UI optimistically",
              "4. If API fails, revert UI change and show error"
            ],
            "visual_feedback": [
              "Highlight drop zones on drag",
              "Show placeholder in drop zone",
              "Smooth animations"
            ]
          },
          "toolbar_actions": {
            "auto_draft_button": {
              "label": "Auto-Draft",
              "description": "Automatically distribute players evenly across teams",
              "algorithm": [
                "1. Sort players by rating (highest first)",
                "2. Use snake draft order (1‚Üí2‚Üí3, then 3‚Üí2‚Üí1, repeat)",
                "3. Assign players to teams in order",
                "4. Balance by position if possible (optional enhancement)"
              ],
              "confirmation": "Modal: 'This will clear current assignments. Continue?'"
            },
            "clear_all_button": {
              "label": "Clear All Assignments",
              "action": "Remove all players from teams, return to available pool",
              "confirmation": "Modal: 'This will unassign all players. Continue?'"
            },
            "save_button": {
              "label": "Save Draft",
              "description": "Persist all changes (normally auto-saves on each action)"
            }
          },
          "mobile_considerations": {
            "responsive_layout": "Stack teams vertically on mobile",
            "touch_interactions": "Long-press to drag on touch devices",
            "alternative_ui": "Consider 'Select & Assign' buttons instead of drag-drop on small screens"
          }
        }
      },
      {
        "draft_status_and_visibility": {
          "status": "‚è≥ Not Started",
          "description": "Show draft results to users after draft is complete",
          "admin_controls": {
            "publish_draft_toggle": {
              "description": "Admin can mark draft as 'published' to show teams to players",
              "database_field": "Session.DraftPublished BIT DEFAULT 0",
              "ui_location": "Toggle on draft page: 'Publish Draft to Players'",
              "behavior": "When true, players can see their team assignment"
            }
          },
          "user_view": {
            "my_team_display": {
              "locations": [
                "User dashboard: 'Your Team for [Session Name]' card",
                "Session detail page: 'Team Assignment' section"
              ],
              "display_info": [
                "Team name and color",
                "List of teammates (names and positions)",
                "Your position",
                "Session date/time"
              ],
              "empty_state": "Draft not yet published or you're not assigned to a team"
            },
            "endpoint": "GET /api/users/my-team/{sessionId}",
            "response": {
              "teamName": "string",
              "teamColor": "string",
              "captainName": "string (nullable, name of team captain)",
              "isCaptain": "boolean (true if current user is captain)",
              "teammates": [
                {
                  "name": "string",
                  "position": "string"
                }
              ],
              "sessionName": "string",
              "sessionDate": "DateTime"
            }
          }
        }
      },
      {
        "testing_and_validation": {
          "status": "‚è≥ Not Started",
          "backend_tests": [
            "Player rating: Test update, validation (0.0-10.0 range)",
            "Team CRUD: Create, read, update, delete teams",
            "Team captain: Assign, change, clear captain",
            "Team captain validation: Captain must be on team, auto-clear when player removed",
            "Team player assignment: Assign, remove, prevent duplicates",
            "Draft validation: Players can only be on one team per session",
            "Auto-draft algorithm: Test even distribution and snake order"
          ],
          "frontend_tests": [
            "Draft page: Test drag-and-drop functionality",
            "Team management: Create, edit, delete teams",
            "Team captain selector: Assign and change captain from dropdown",
            "Captain badge display: Verify captain badge shows on player card",
            "Player assignment: Drag player to team, remove from team",
            "Auto-draft: Verify players distributed correctly",
            "User view: Test team display for published drafts with captain info"
          ],
          "integration_tests": [
            "Complete draft flow: Create teams ‚Üí Assign players ‚Üí Assign captains ‚Üí Publish draft",
            "Captain auto-clear: Remove captain from team ‚Üí Verify captain set to null",
            "User sees team assignment with captain info after publish",
            "Admin edits team captain after draft ‚Üí Changes reflected in user view"
          ],
          "manual_testing_checklist": [
            "Admin sets player ratings (various values, null)",
            "Admin creates multiple teams for a session",
            "Admin assigns team captains from dropdown",
            "Verify captain badge appears on player card",
            "Change team captain to different player",
            "Clear captain (set to 'No Captain')",
            "Remove captain from team (verify captain cleared automatically)",
            "Drag players from available list to teams",
            "Drag players between teams",
            "Drag player back to available list (unassign)",
            "Use auto-draft feature",
            "Clear all assignments",
            "Delete team (verify players return to available pool)",
            "Publish draft",
            "User views their team assignment with captain info",
            "User who is captain sees 'You are the team captain' indicator",
            "Mobile responsive: Drag-and-drop on touch devices",
            "Edge case: Try to assign player to two teams (should fail)",
            "Edge case: Try to assign captain from different team (should fail)"
          ]
        }
      }
    ],
    "priority_order": [
      "1. Database migrations: Add Rating to ApplicationUser, create Teams and TeamPlayers tables with CaptainUserId",
      "2. Backend models: Team, TeamPlayer with navigation properties and Captain relationship",
      "3. Backend: Player rating endpoints (update rating, get users with ratings)",
      "4. Frontend: Admin user management with rating column",
      "5. Backend: Team CRUD endpoints with captain assignment",
      "6. Backend: Set team captain endpoint",
      "7. Backend: Team player assignment endpoints (with captain auto-clear on removal)",
      "8. Frontend: Draft page UI with available players list",
      "9. Frontend: Team cards with drag-and-drop zones and captain selector",
      "10. Frontend: Implement drag-and-drop functionality (Angular CDK)",
      "11. Frontend: Captain badge display on player cards",
      "12. Backend: Auto-draft algorithm",
      "13. Frontend: Auto-draft and clear all buttons",
      "14. Database: Add DraftPublished field to Sessions",
      "15. Backend: Publish draft and get my team endpoints (include captain info)",
      "16. Frontend: User team display on dashboard with captain",
      "17. Testing: Unit, integration, and manual tests (including captain scenarios)",
      "18. Mobile polish: Touch interactions and responsive layout"
    ],
    "estimated_completion": "End of Week 8 (late December 2025)",
    "notes": [
      "Rating field is sensitive - ensure it's NEVER visible to non-admin users",
      "Team captain is cosmetic/honorary - grants no special permissions or admin access",
      "Captain assignment must auto-clear when captain is removed from team",
      "Only one captain per team (nullable - teams can have no captain)",
      "Captain must be a current member of the team to be assigned",
      "Consider soft delete for teams to preserve draft history",
      "Auto-draft algorithm can be enhanced with position balancing in future",
      "Draft page should be disabled/read-only after session starts",
      "Consider adding draft history/audit log for transparency",
      "Team colors help visual distinction in UI"
    ]
  },
  "week_9": {
    "status": "Planned",
    "focus": "League Management, User Profile, Home Page Redesign, and Footer Enhancement",
    "estimated_hours": "12-15 hours",
    "features": [
      {
        "name": "Admin League Management (Full CRUD)",
        "description": "Allow admins to add, edit, and delete leagues through the UI",
        "estimated_hours": "3-4 hours",
        "tasks": [
          {
            "component": "Backend API",
            "items": [
              "Add POST /api/admin/leagues endpoint (create league)",
              "Add PUT /api/admin/leagues/{id} endpoint (update league)",
              "Add DELETE /api/admin/leagues/{id} endpoint (delete league)",
              "Validate league deletion - prevent if league has active sessions",
              "Add IsActive field to League model for soft delete option",
              "Add CreatedAt, LastModified timestamps to League model",
              "Migration: Add new fields to Leagues table"
            ]
          },
          {
            "component": "Frontend UI",
            "items": [
              "Create admin-leagues component (similar to admin-sessions)",
              "Add 'Manage Leagues' option to admin nav/dashboard",
              "League table with columns: Name, Description, Created, Active Status, Session Count, Actions",
              "Create/Edit modal with fields: Name (required), Description (optional), IsActive toggle",
              "Delete confirmation dialog with warning if league has sessions",
              "Filter leagues: All, Active, Inactive",
              "Display session count per league",
              "Success/error messages for CRUD operations"
            ]
          }
        ],
        "acceptance_criteria": [
          "Admin can create new league with name and description",
          "Admin can edit existing league details",
          "Admin can delete league (blocked if it has sessions)",
          "Admin can toggle league active/inactive status",
          "League changes reflect immediately in session dropdowns",
          "Proper validation messages for all operations",
          "Non-admin users cannot access league management endpoints"
        ]
      },
      {
        "name": "Editable User Profile with Phone Number",
        "description": "Allow users to view and edit their own profile information including phone number",
        "estimated_hours": "2-3 hours",
        "tasks": [
          {
            "component": "Backend API",
            "items": [
              "Add PhoneNumber field to ApplicationUser model (if not exists)",
              "Add PUT /api/users/profile endpoint (update user profile)",
              "Validation: Email format, phone format (optional), name required",
              "Prevent email changes if user has registrations (or require re-verification)",
              "Return updated user data after successful update",
              "Migration: Add PhoneNumber to Users table if needed"
            ]
          },
          {
            "component": "Frontend UI",
            "items": [
              "Update profile component to show editable form (not read-only)",
              "Add 'Edit' button to toggle between view and edit mode",
              "Form fields: First Name, Last Name, Email, Phone Number",
              "Phone number formatting: (555) 555-5555 display format",
              "Client-side validation: Required fields, email format, phone format",
              "Save/Cancel buttons in edit mode",
              "Success message after profile update",
              "Update navigation bar to reflect name changes immediately"
            ]
          }
        ],
        "acceptance_criteria": [
          "User can view their profile information",
          "User can edit their name and phone number",
          "Email field is read-only or shows warning about registration impact",
          "Phone number accepts various formats and displays consistently",
          "Profile updates are saved and reflected throughout the app",
          "Validation errors are displayed clearly",
          "User cannot update another user's profile"
        ]
      },
      {
        "name": "Home Page Redesign with Hero Section",
        "description": "Redesign home page with hero section featuring facility intro and photo, plus expanded service offerings",
        "estimated_hours": "4-5 hours",
        "tasks": [
          {
            "component": "Frontend UI - Hero Section",
            "items": [
              "Create hero section component with background image/photo",
              "Headline: Hockey rink name/tagline (configurable)",
              "Subheading: Brief intro about the facility (2-3 sentences)",
              "CTA buttons: 'View Leagues', 'Register Now', 'Learn More'",
              "Responsive design: Full-height on desktop, adjusted on mobile",
              "Add placeholder image or stock hockey rink photo",
              "Overlay gradient for text readability"
            ]
          },
          {
            "component": "Frontend UI - Service Categories",
            "items": [
              "Redesign home page content below hero section",
              "Create service category cards: Youth Hockey Leagues, Clinics, Training, Girls Figure Skating, Open Ice Time",
              "Each card shows: Icon, Title, Brief Description, 'Learn More' link",
              "Grid layout: 2 columns on mobile, 3-4 columns on desktop",
              "Add icons for each service category (Bootstrap Icons or Font Awesome)",
              "Brief descriptions for each service (placeholder text)"
            ]
          },
          {
            "component": "Content Updates",
            "items": [
              "Youth Hockey Leagues: 'Competitive leagues for ages 6-18...'",
              "Clinics: 'Specialized skill development programs...'",
              "Training: 'Personal and team training sessions...'",
              "Girls Figure Skating: 'Figure skating programs for all skill levels...'",
              "Open Ice Time: 'Public skating sessions and ice rental...'",
              "Move existing league browsing further down or integrate into categories",
              "Add 'About Us' section with facility details (optional)"
            ]
          }
        ],
        "acceptance_criteria": [
          "Hero section displays prominently with engaging photo and text",
          "Service categories are clearly presented with icons and descriptions",
          "CTA buttons navigate to appropriate pages",
          "Page is fully responsive on mobile, tablet, and desktop",
          "Content is well-organized and easy to scan",
          "Hero image loads quickly and looks professional",
          "Navigation flows logically from hero to services to existing content"
        ]
      },
      {
        "name": "Footer with Social Media Icons",
        "description": "Add footer component with social media links for Facebook, X (Twitter), and Instagram",
        "estimated_hours": "1-2 hours",
        "tasks": [
          {
            "component": "Frontend UI",
            "items": [
              "Create footer component (shared across all pages)",
              "Add social media icons: Facebook, X (Twitter), Instagram",
              "Use Bootstrap Icons or Font Awesome for social icons",
              "Icon links: Facebook (https://facebook.com/placeholder), X (https://x.com/placeholder), Instagram (https://instagram.com/placeholder)",
              "Footer sections: Social Media, Quick Links, Contact Info, Copyright",
              "Quick Links: Home, Leagues, About, Contact",
              "Contact Info: Address, Phone, Email (placeholder content)",
              "Copyright: '¬© 2025 Hockey Rink Name. All rights reserved.'",
              "Style: Dark background with light text, sticky to bottom",
              "Ensure footer is included in app.component.html or layout"
            ]
          }
        ],
        "acceptance_criteria": [
          "Footer appears on all pages",
          "Social media icons are clearly visible and styled",
          "Social media links open in new tab (target='_blank')",
          "Quick links navigate correctly",
          "Footer is responsive and looks good on all screen sizes",
          "Footer stays at bottom of page even with little content",
          "Icons have hover effects for better UX"
        ]
      },
      {
        "name": "Database and Model Enhancements",
        "description": "Support expanded service offerings with new models/fields if needed",
        "estimated_hours": "2 hours (optional/future)",
        "tasks": [
          {
            "component": "Planning/Discussion",
            "items": [
              "Discuss whether to add ServiceType enum (HockeyLeague, Clinic, Training, FigureSkating, OpenIce)",
              "Decide if Sessions should have ServiceType field or if separate tables are needed",
              "Plan for future: Clinic schedules, training bookings, open ice time slots",
              "Consider adding Category or Tags to sessions for filtering",
              "Week 9 can focus on UI/UX, with backend expansion in Week 10+"
            ]
          }
        ],
        "acceptance_criteria": [
          "Design decisions documented for future implementation",
          "UI is flexible enough to accommodate new service types",
          "Existing session/league structure can be extended without major refactoring"
        ]
      }
    ],
    "priority_order": [
      "1. Migration: Add PhoneNumber to ApplicationUser if needed",
      "2. Backend: User profile update endpoint (PUT /api/users/profile)",
      "3. Frontend: Editable user profile form with phone number field",
      "4. Frontend: Footer component with social media icons and quick links",
      "5. Frontend: Home page hero section with image and intro text",
      "6. Frontend: Service category cards (Youth Hockey, Clinics, Training, Figure Skating, Open Ice)",
      "7. Content: Write placeholder descriptions for each service category",
      "8. Migration: Add IsActive, CreatedAt, LastModified to League model",
      "9. Backend: League CRUD endpoints (POST, PUT, DELETE /api/admin/leagues)",
      "10. Frontend: Admin league management component (table, modals, CRUD operations)",
      "11. Testing: Profile updates, league management, responsive layout",
      "12. Polish: Hero image optimization, footer styling, mobile responsiveness"
    ],
    "estimated_completion": "End of Week 9 (early January 2026)",
    "notes": [
      "Hero section image should be high-quality and optimized for web",
      "Social media links are placeholders - update with real URLs when available",
      "Service categories (Clinics, Training, etc.) are UI-only for now - backend expansion in future weeks",
      "Phone number field is optional - users not required to provide it",
      "Consider phone number formatting library (e.g., libphonenumber-js) for better validation",
      "League deletion should be soft delete (IsActive=false) to preserve historical data",
      "Ensure user profile updates don't break existing registrations",
      "Footer should be semantic HTML (<footer>) for accessibility",
      "Quick Links in footer should match main navigation",
      "Test hero section on various screen sizes and browsers"
    ]
  },
  "week_10": {
    "status": "üîÑ Planned",
    "focus": "Security & Framework Upgrades",
    "estimated_hours": "12-15 hours",
    "start_date": "TBD (After Week 8 & 9 completion)",
    "objectives": [
      "Migrate from custom Base64 tokens to proper JWT authentication",
      "Upgrade backend to .NET 10",
      "Upgrade frontend to Angular 21",
      "Improve authentication security and maintainability"
    ],
    "tasks": [
      {
        "jwt_authentication_migration": {
          "status": "üîÑ Planned",
          "priority": "High - Security & Technical Debt",
          "description": "Replace custom Base64 token authentication with industry-standard JWT (JSON Web Tokens)",
          "current_issues": [
            "Custom Base64 token is not cryptographically signed",
            "Cannot use [Authorize] attributes with current token system",
            "Manual token validation in every controller is error-prone",
            "No token refresh mechanism",
            "Tokens cannot be revoked before expiry"
          ],
          "backend_changes": {
            "packages": [
              "Install Microsoft.AspNetCore.Authentication.JwtBearer",
              "Install System.IdentityModel.Tokens.Jwt"
            ],
            "program_cs": [
              "Remove CookieAuthentication configuration",
              "Add JWT Bearer authentication with proper key signing",
              "Configure TokenValidationParameters (issuer, audience, signing key, lifetime)",
              "Set default authentication scheme to JwtBearerDefaults.AuthenticationScheme"
            ],
            "auth_controller": [
              "Replace Base64 token generation with JwtSecurityTokenHandler",
              "Add proper claims (userId, email, role, expiry)",
              "Sign tokens with symmetric or asymmetric key",
              "Add refresh token endpoint (POST /api/auth/refresh)",
              "Add token revocation/blacklist mechanism"
            ],
            "all_controllers": [
              "Remove manual IsAdminAsync() and GetUserIdFromTokenAsync() methods",
              "Replace manual checks with [Authorize] and [Authorize(Roles = \"Admin\")] attributes",
              "Access user info via HttpContext.User.Claims",
              "Remove duplicate authentication logic"
            ],
            "configuration": [
              "Add JWT settings to appsettings.json (SecretKey, Issuer, Audience, ExpireMinutes)",
              "Use Azure Key Vault or environment variables for production keys",
              "Set AccessToken expiry: 15-60 minutes",
              "Set RefreshToken expiry: 7-30 days"
            ]
          },
          "frontend_changes": {
            "auth_service": [
              "Keep existing token storage in localStorage (or move to httpOnly cookies if desired)",
              "Update login response handling to accept JWT format",
              "Add refresh token storage (localStorage or sessionStorage)",
              "Implement automatic token refresh before expiry",
              "Add token refresh interceptor for 401 responses"
            ],
            "http_interceptor": [
              "Continue sending Authorization: Bearer <JWT>",
              "Handle 401 responses by attempting token refresh",
              "Redirect to login only after refresh fails"
            ],
            "minimal_changes": [
              "Most frontend code remains unchanged",
              "Token is still stored and sent the same way",
              "Only AuthService token generation/refresh logic changes"
            ]
          },
          "security_improvements": [
            "‚úÖ Cryptographically signed tokens prevent tampering",
            "‚úÖ Standard JWT format enables third-party validation",
            "‚úÖ Token refresh reduces exposure window",
            "‚úÖ Can implement token blacklist for immediate revocation",
            "‚úÖ Roles and claims properly embedded in token",
            "‚úÖ [Authorize] attributes work correctly"
          ],
          "acceptance_criteria": [
            "Login returns proper JWT with signature",
            "All [Authorize] attributes work without manual token validation",
            "Token refresh mechanism implemented and tested",
            "Old Base64 tokens no longer accepted",
            "All existing API tests pass with JWT authentication",
            "Frontend can automatically refresh expired tokens",
            "Admin endpoints properly enforce role-based authorization"
          ],
          "testing": [
            "Test token expiry and refresh flow",
            "Test invalid/tampered token rejection",
            "Test role-based authorization ([Authorize(Roles = \"Admin\")])",
            "Test logout clears tokens",
            "Test concurrent requests with token refresh",
            "Load test with JWT validation performance"
          ]
        }
      },
      {
        "dotnet_10_upgrade": {
          "status": "üîÑ Planned",
          "priority": "Medium - Framework Modernization",
          "description": "Upgrade backend from .NET 9 to .NET 10",
          "prerequisites": [
            ".NET 10 SDK released and stable (expected Q4 2025)"
          ],
          "steps": [
            "Install .NET 10 SDK",
            "Update HockeyRinkAPI.csproj: <TargetFramework>net10.0</TargetFramework>",
            "Update NuGet packages to .NET 10 compatible versions",
            "Update Entity Framework Core to 10.x",
            "Update Microsoft.AspNetCore.* packages to 10.x",
            "Update Azure SDK packages if needed",
            "Review .NET 10 breaking changes and migration guide",
            "Test all API endpoints",
            "Run full test suite (xUnit)",
            "Update Azure deployment configuration for .NET 10 runtime"
          ],
          "potential_benefits": [
            "Performance improvements",
            "New C# language features",
            "Security patches",
            "Better async/await patterns",
            "Improved minimal APIs if applicable"
          ],
          "acceptance_criteria": [
            "All API endpoints function correctly on .NET 10",
            "All unit tests pass",
            "No performance regressions",
            "Azure deployment successful with .NET 10 runtime"
          ]
        }
      },
      {
        "angular_21_upgrade": {
          "status": "üîÑ Planned",
          "priority": "Medium - Framework Modernization",
          "description": "Upgrade frontend from Angular 20 to Angular 21",
          "prerequisites": [
            "Angular 21 released and stable (expected November 2025)"
          ],
          "steps": [
            "Run: ng update @angular/cli @angular/core",
            "Update Angular Material if used",
            "Update RxJS to compatible version",
            "Update TypeScript to required version",
            "Review Angular 21 breaking changes",
            "Test all components and routes",
            "Check for deprecated APIs",
            "Update build configuration if needed",
            "Test production build: ng build --configuration production",
            "Update Azure Static Web Apps deployment if needed"
          ],
          "potential_benefits": [
            "Performance improvements (faster change detection)",
            "New Angular signals features",
            "Better developer experience",
            "Security patches",
            "Improved tree-shaking"
          ],
          "acceptance_criteria": [
            "All pages render correctly",
            "All routes and navigation work",
            "Forms and validation function properly",
            "HTTP requests and authentication work",
            "Production build completes without errors",
            "No console errors or warnings",
            "Azure deployment successful"
          ]
        }
      },
      {
        "code_cleanup": {
          "status": "üîÑ Planned",
          "priority": "Low - Technical Debt",
          "description": "Clean up deprecated code and improve maintainability",
          "tasks": [
            "Remove unused cookie authentication configuration from Program.cs",
            "Consolidate authentication logic (no more duplicate IsAdminAsync methods)",
            "Remove TODO comments for JWT migration",
            "Update API documentation with JWT examples",
            "Add code comments for complex JWT logic",
            "Review and update .gitignore if needed",
            "Check for unused NuGet packages and npm packages",
            "Update README with new authentication flow"
          ]
        }
      }
    ],
    "priority_order": [
      "1. .NET 10 upgrade (if released)",
      "2. Angular 21 upgrade (if released)",
      "3. JWT authentication backend implementation",
      "4. JWT authentication frontend integration",
      "5. Token refresh mechanism",
      "6. Update all controllers to use [Authorize] attributes",
      "7. Remove manual authentication methods",
      "8. Testing (unit tests, integration tests, E2E)",
      "9. Code cleanup and documentation",
      "10. Deploy and monitor"
    ],
    "estimated_completion": "End of Week 10 (mid-late January 2026)",
    "dependencies": [
      ".NET 10 SDK release schedule",
      "Angular 21 release schedule",
      "Week 8 and Week 9 completion"
    ],
    "notes": [
      "JWT migration is the most critical task for security and maintainability",
      "Framework upgrades depend on stable releases - may need to postpone if not ready",
      "JWT secret key MUST be stored securely (Azure Key Vault in production)",
      "Consider using RS256 (asymmetric) instead of HS256 for better security",
      "Token refresh implementation should handle race conditions",
      "Add comprehensive logging for authentication failures",
      "Consider implementing token blacklist using Redis for logout functionality",
      "Test authentication flow thoroughly before removing old system",
      "Keep old token validation code in a separate branch temporarily for rollback",
      "Update API documentation (Swagger) to reflect JWT authentication",
      "Consider adding rate limiting to token refresh endpoint",
      "Monitor token generation and validation performance",
      "Document JWT claims structure for future developers",
      "Ensure backward compatibility during migration (support both tokens temporarily?)",
      "Plan a maintenance window for JWT migration if needed"
    ],
    "risks": [
      "JWT migration could break existing sessions - users need to re-login",
      ".NET 10 or Angular 21 may have breaking changes requiring code updates",
      "Token refresh race conditions could cause authentication issues",
      "Framework upgrades may introduce new bugs"
    ],
    "mitigation": [
      "Thoroughly test JWT implementation in development",
      "Deploy during low-traffic period",
      "Have rollback plan ready",
      "Monitor error logs closely after deployment",
      "Keep old authentication code in version control for quick rollback"
    ]
  },
  "repo": "https://github.com/Dean92/hockey-rink-website"
}
