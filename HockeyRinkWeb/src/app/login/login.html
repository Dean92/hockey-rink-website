<div class="container login-container">
  <div class="row justify-content-center w-100">
    <div class="col-md-8 col-lg-5">
      <div class="card login-card">
        <!-- Header Section -->
        <div class="login-header">
          <i class="bi bi-person-circle login-icon"></i>
          <h2 class="login-title">Welcome Back</h2>
          <p class="login-subtitle mb-0">Sign in to access your account</p>
        </div>

        <!-- Body Section -->
        <div class="login-body">
          @if (errorMessage()) {
          <div
            class="alert alert-danger d-flex align-items-center mb-4"
            role="alert"
          >
            <i class="bi bi-exclamation-circle-fill me-2"></i>
            <div>{{ errorMessage() }}</div>
          </div>
          }

          <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
            <div class="mb-4">
              <label for="email" class="form-label">Email Address</label>
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0 text-muted">
                  <i class="bi bi-envelope"></i>
                </span>
                <input
                  type="email"
                  formControlName="email"
                  class="form-control border-start-0 ps-0"
                  id="email"
                  placeholder="name@example.com"
                  [class.is-invalid]="
                    hasError('email', 'required') || hasError('email', 'email')
                  "
                />
                @if (hasError('email', 'required')) {
                <div class="invalid-feedback">Email is required.</div>
                } @if (hasError('email', 'email')) {
                <div class="invalid-feedback">Please enter a valid email.</div>
                }
              </div>
            </div>

            <div class="mb-4">
              <label for="password" class="form-label">Password</label>
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0 text-muted">
                  <i class="bi bi-lock"></i>
                </span>
                <input
                  type="password"
                  formControlName="password"
                  class="form-control border-start-0 ps-0"
                  id="password"
                  placeholder="Enter your password"
                  [class.is-invalid]="
                    hasError('password', 'required') ||
                    hasError('password', 'minlength')
                  "
                />
                @if (hasError('password', 'required')) {
                <div class="invalid-feedback">Password is required.</div>
                } @if (hasError('password', 'minlength')) {
                <div class="invalid-feedback">
                  Password must be at least 8 characters.
                </div>
                }
              </div>
            </div>

            <button
              type="submit"
              class="btn btn-primary btn-login w-100 mb-4"
              [disabled]="isLoading()"
            >
              @if (isLoading()) {
              <span
                class="spinner-border spinner-border-sm me-2"
                role="status"
                aria-hidden="true"
              ></span>
              Logging in... } @else { Login }
            </button>

            <div class="text-center">
              <p class="mb-0 text-muted">
                Don't have an account?
                <a routerLink="/register" class="register-link"
                  >Create Account</a
                >
              </p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
